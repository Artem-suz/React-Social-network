"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[754],{2754:function(e,o,r){r.r(o),r.d(o,{default:function(){return $}});var s=r(8591),a=r(885),n=r(2791),i={descriptionBlock:"ProfileInfo_descriptionBlock__ue-Y-",avatar:"ProfileInfo_avatar__Gd7+6",ownerAvatarEditor:"ProfileInfo_ownerAvatarEditor__3PMJZ",currentText:"ProfileInfo_currentText__1AZnZ",name:"ProfileInfo_name__3L6sf",label:"ProfileInfo_label__Obami",narrowColumn:"ProfileInfo_narrowColumn__B5s2A",wideColumn:"ProfileInfo_wideColumn__VFdaA",topWideColumn:"ProfileInfo_topWideColumn__SsIJT",midWideColumn:"ProfileInfo_midWideColumn__uOeWo",topNarrowColumn:"ProfileInfo_topNarrowColumn__TyAEJ",midNarrowColumn:"ProfileInfo_midNarrowColumn__RHNMm",profileStatus:"ProfileInfo_profileStatus__yw-Kb",ownerProfileStatus:"ProfileInfo_ownerProfileStatus__SDdV4",status:"ProfileInfo_status__h3cVm",btnEdit:"ProfileInfo_btnEdit__AOf+r",midWideColumnTop:"ProfileInfo_midWideColumnTop__aU8au",btnEditMode:"ProfileInfo_btnEditMode__xnWbL",editContactInformationRow:"ProfileInfo_editContactInformationRow__gLOrh",editContactInformationWideRow:"ProfileInfo_editContactInformationWideRow__57kVb",editLabel:"ProfileInfo_editLabel__q1xJB",editMode:"ProfileInfo_editMode__WFJnr",error:"ProfileInfo_error__xN35G",checkbox:"ProfileInfo_checkbox__BMMao",btnFromEditMode:"ProfileInfo_btnFromEditMode__-J+s0",editProfileStatus:"ProfileInfo_editProfileStatus__oAyYl"},t=r(83),l=r(184),c=function(e){var o=(0,n.useState)(!1),r=(0,a.Z)(o,2),s=r[0],t=r[1],c=(0,n.useState)(e.status),d=(0,a.Z)(c,2),m=d[0],u=d[1];(0,n.useEffect)((function(){u(e.status)}),[e.status]);return(0,l.jsxs)("div",{children:[!s&&(0,l.jsxs)("h3",{onClick:function(){e.isOwner&&t(!0)},className:e.isOwner?i.ownerProfileStatus:i.profileStatus,children:[(0,l.jsx)("span",{className:i.status,children:"Status: "}),(0,l.jsxs)("span",{children:[" ",e.status||"Set status"]})]}),s&&(0,l.jsx)("div",{className:i.editProfileStatus,children:(0,l.jsx)("textarea",{onBlur:function(){t(!1),e.updateStatus(m)},autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},value:m})})]})},d=r(5705),m=r(132),u=r(5558),f=function(e){var o=m.Ry().shape({Facebook:m.Z_().max(30,"Max: 30 symbols"),Vk:m.Z_().max(30,"Max: 30 symbols"),Instagram:m.Z_().max(30,"Max: 30 symbols"),Github:m.Z_().max(30,"Max: 30 symbols"),Youtube:m.Z_().max(30,"Max: 30 symbols"),MainLink:m.Z_().max(30,"Max: 30 symbols"),Website:m.Z_().max(30,"Max: 30 symbols")});return(0,l.jsx)(d.J9,{initialValues:{Facebook:e.profileContacts.facebook,Vk:e.profileContacts.vk,Instagram:e.profileContacts.instagram,Github:e.profileContacts.github,Youtube:e.profileContacts.youtube,MainLink:e.profileContacts.mainLink,Website:e.profileContacts.website,fullName:e.fullName,aboutMe:e.aboutMe,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription},validateOnBlur:!0,onSubmit:function(o){return e.onSubmitProfileHandler(o)},validationSchema:o,children:function(o){var r=o.values,s=o.errors,a=o.touched,n=o.handleChange,t=o.handleBlur,c=o.isValid,m=o.handleSubmit,f=o.dirty;return(0,l.jsxs)(d.l0,{children:[(0,l.jsxs)("div",{className:i.topWideColumn,children:[(0,l.jsxs)("div",{className:i.editContactInformationRow,children:[" ",(0,l.jsx)("span",{className:i.editLabel,children:"Full name:"}),(0,l.jsx)(d.gN,{placeholder:"Full name",type:"text",name:"fullName",component:u.C7,onChange:n,onBlur:t,value:r.fullName})]}),a.fullName&&s.fullName&&(0,l.jsxs)("p",{className:i.error,children:[" ",s.fullName," "]}),(0,l.jsxs)("div",{className:i.editContactInformationWideRow,children:[" ",(0,l.jsx)("span",{className:i.editLabel,children:"About me:"}),(0,l.jsx)(d.gN,{placeholder:"About me",type:"text",name:"aboutMe",component:u.M$,onChange:n,onBlur:t,value:r.aboutMe})]}),a.aboutMe&&s.aboutMe&&(0,l.jsxs)("p",{className:i.error,children:[" ",s.aboutMe," "]}),(0,l.jsxs)("div",{className:i.editContactInformationWideRow,children:[" ",(0,l.jsx)("span",{className:i.editLabel,children:"My skills:"}),(0,l.jsx)(d.gN,{placeholder:"My professional skills",type:"text",name:"lookingForAJobDescription",component:u.M$,onChange:n,onBlur:t,value:r.lookingForAJobDescription})]}),a.aboutMe&&s.aboutMe&&(0,l.jsxs)("p",{className:i.error,children:[" ",s.aboutMe," "]}),(0,l.jsxs)("div",{className:i.editContactInformationRow+" "+i.checkbox,children:[" ",(0,l.jsx)("span",{className:i.editLabel,children:"Looking for a job:"}),(0,l.jsx)(d.gN,{type:"checkbox",name:"lookingForAJob",component:"input",onChange:n,onBlur:t})]})]}),(0,l.jsxs)("div",{className:i.midWideColumnTop+" "+i.editMode,children:[(0,l.jsxs)("div",{className:i.midWideColumnTop,children:[(0,l.jsx)("h2",{children:"Contact information:"}),(0,l.jsx)("div",{className:i.btnFromEditMode,children:(0,l.jsx)("button",{disabled:!c&&!f,onClick:m,type:"submit",children:(0,l.jsx)("span",{className:"material-icons",children:"done"})})})]}),(0,l.jsxs)("div",{className:i.editContactInformationRow,children:[" ",(0,l.jsx)("span",{className:i.editLabel,children:"Facebook:"}),(0,l.jsx)(d.gN,{placeholder:"Facebook",type:"text",name:"Facebook",component:u.$D,onChange:n,onBlur:t,value:r.Facebook})]}),a.Facebook&&s.Facebook&&(0,l.jsxs)("p",{className:i.error,children:[" ",s.Facebook," "]}),e.errorFromServer&&-1!==e.errorFromServer.indexOf("Facebook")&&(0,l.jsx)("p",{className:i.error,children:e.errorFromServer}),(0,l.jsxs)("div",{className:i.editContactInformationRow,children:[" ",(0,l.jsx)("span",{className:i.editLabel,children:"Vk:"}),(0,l.jsx)(d.gN,{placeholder:"Vk",type:"text",name:"Vk",component:u.j5,onChange:n,onBlur:t,value:r.Vk})]}),a.Vk&&s.Vk&&(0,l.jsxs)("p",{className:i.error,children:[" ",s.Vk," "]}),e.errorFromServer&&-1!==e.errorFromServer.indexOf("Vk")&&(0,l.jsx)("p",{className:i.error,children:e.errorFromServer}),(0,l.jsxs)("div",{className:i.editContactInformationRow,children:[(0,l.jsx)("span",{className:i.editLabel,children:"Instagram: "}),(0,l.jsx)(d.gN,{placeholder:"Instagram",type:"text",name:"Instagram",component:u.nS,onChange:n,onBlur:t,value:r.Instagram})]}),a.Instagram&&s.Instagram&&(0,l.jsxs)("p",{className:i.error,children:[" ",s.Instagram," "]}),e.errorFromServer&&-1!==e.errorFromServer.indexOf("Instagram")&&(0,l.jsx)("p",{className:i.error,children:e.errorFromServer}),(0,l.jsxs)("div",{className:i.editContactInformationRow,children:[(0,l.jsx)("span",{className:i.editLabel,children:"Github: "}),(0,l.jsx)(d.gN,{placeholder:"Github",type:"text",name:"Github",component:u.ob,onChange:n,onBlur:t,value:r.Github})]}),a.Github&&s.Github&&(0,l.jsxs)("p",{className:i.error,children:[" ",s.Github," "]}),e.errorFromServer&&-1!==e.errorFromServer.indexOf("Github")&&(0,l.jsx)("p",{className:i.error,children:e.errorFromServer}),(0,l.jsxs)("div",{className:i.editContactInformationRow,children:[(0,l.jsx)("span",{className:i.editLabel,children:"Youtube: "}),(0,l.jsx)(d.gN,{placeholder:"Youtube",type:"text",name:"Youtube",component:u.y6,onChange:n,onBlur:t,value:r.Youtube})]}),a.Youtube&&s.Youtube&&(0,l.jsxs)("p",{className:i.error,children:[" ",s.Youtube," "]}),e.errorFromServer&&-1!==e.errorFromServer.indexOf("Youtube")&&(0,l.jsx)("p",{className:i.error,children:e.errorFromServer}),(0,l.jsxs)("div",{className:i.editContactInformationRow,children:[(0,l.jsx)("span",{className:i.editLabel,children:"Main Link: "}),(0,l.jsx)(d.gN,{placeholder:"Main Link",type:"text",name:"MainLink",component:u.MU,onChange:n,onBlur:t,value:r.MainLink})]}),a.MainLink&&s.MainLink&&(0,l.jsxs)("p",{className:i.error,children:[" ",s.MainLink," "]}),e.errorFromServer&&-1!==e.errorFromServer.indexOf("MainLink")&&(0,l.jsx)("p",{className:i.error,children:e.errorFromServer}),(0,l.jsxs)("div",{className:i.editContactInformationRow,children:[(0,l.jsx)("span",{className:i.editLabel,children:"Website: "}),(0,l.jsx)(d.gN,{placeholder:"Website",type:"text",name:"Website",component:u.vX,onChange:n,onBlur:t,value:r.Website})]}),a.Website&&s.Website&&(0,l.jsxs)("p",{className:i.error,children:[" ",s.Website," "]}),e.errorFromServer&&-1!==e.errorFromServer.indexOf("Website")&&(0,l.jsx)("p",{className:i.error,children:e.errorFromServer})]})]})}})},h="ProfileFriends_friendsTitle__pKgkL",p="ProfileFriends_friendsWrapper__oGzu9",x="ProfileFriends_myProfileFriends__BlZlL",b=r(5671),_=r(3144),j=r(136),N=r(3668),v={friendItem:"FriendElement_friendItem__IZhDk",navbarImg:"FriendElement_navbarImg__aKzRi"},g=function(e){(0,j.Z)(r,e);var o=(0,N.Z)(r);function r(){return(0,b.Z)(this,r),o.apply(this,arguments)}return(0,_.Z)(r,[{key:"render",value:function(){return(0,l.jsxs)("div",{className:v.friendItem,children:[(0,l.jsx)("img",{className:v.navbarImg,src:this.props.img,alt:"Friends avatar"}),(0,l.jsx)("span",{className:v.friendName,children:this.props.name})]})}}]),r}(n.Component),k=g,F=function(e){return(0,l.jsxs)("div",{className:x,children:[(0,l.jsx)("span",{className:h,children:"Friends"}),(0,l.jsx)("div",{className:p,children:e.friends.map((function(e){return(0,l.jsx)(k,{name:e.name,img:e.img,id:e.id},e.id)}))})]})},P=r(364),C=r(500),S="MyPosts_myPostsBlock__uKS6V",w="MyPosts_posts__qaRsu",I="MyPosts_error__bmmdh",M="MyPosts_submitPostBox__teq85",y="MyPosts_buttonPost__gZt71",A={item:"Post_item__h1W-S",postImg:"Post_postImg__O1BLL",postHeader:"Post_postHeader__ikRVm",postFooter:"Post_postFooter__3g4VW",author:"Post_author__FiR3U"},L=function(e){return(0,l.jsxs)("div",{className:A.item,children:[(0,l.jsxs)("div",{className:A.postHeader,children:[(0,l.jsx)("img",{src:e.profile.photos.small||t,className:A.postImg,alt:"User avatar"}),(0,l.jsxs)("div",{className:A.postHeaderInfo,children:[(0,l.jsxs)("span",{className:A.author,children:[" ",e.profile.fullName," "]}),(0,l.jsx)("span",{children:" 29 Apr at 5:21 pm "})]})]}),(0,l.jsx)("div",{className:A.postFooter,children:e.message})]})},W=function(e){var o=m.Ry().shape({post:m.Z_().max(100,"Too long").required("")});return(0,l.jsx)(d.J9,{initialValues:{post:""},validateOnBlur:!0,onSubmit:function(o,r){e.onAddPost(o.post),r.resetForm({post:""})},validationSchema:o,children:function(e){var o=e.values,r=e.errors,s=e.touched,a=e.handleChange,n=e.handleBlur,i=e.isValid,t=e.handleSubmit,c=e.dirty;return(0,l.jsxs)(d.l0,{children:[(0,l.jsx)("div",{children:(0,l.jsx)(d.gN,{placeholder:"Whats's new?",type:"text",name:"post",component:u.ri,onChange:a,onBlur:n,value:o.post})}),s.post&&r.post&&(0,l.jsx)("p",{className:I,children:r.post}),(0,l.jsx)("span",{className:y,children:(0,l.jsx)("button",{disabled:!i&&!c,onClick:t,type:"submit",children:"Post"})})]})}})},J=function(e){return(0,l.jsxs)("div",{className:S,children:[(0,l.jsxs)("div",{className:M,children:[(0,l.jsx)("h3",{children:"My posts"}),(0,l.jsx)(W,{onAddPost:function(o){e.addPost(o)}})]}),(0,l.jsx)("div",{className:w,children:e.posts.map((function(o){return(0,l.jsx)(L,{profile:e.profile,message:o.post,id:o.id},o.id)}))})]})},E=(0,P.$j)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPost:C.q2})(J),O="ProfileSocialNetworks_socialItem__LE9vH",B="ProfileSocialNetworks_bgFacebook__VNdp9",R="ProfileSocialNetworks_bgTwitter__qJmum",V="ProfileSocialNetworks_bgDribbble__6on-g",Z="ProfileSocialNetworks_ProfileSocialNetworks__hFxPp",T=function(e){return(0,l.jsxs)("div",{className:Z,children:[(0,l.jsx)("h4",{children:"Other Social Networks:"}),(0,l.jsx)("a",{href:"https://ru-ru.facebook.com/",className:O+" "+B,children:"Facebook"}),(0,l.jsx)("a",{href:"https://twitter.com/?lang=ru",className:O+" "+R,children:"Twitter"}),(0,l.jsx)("a",{href:"https://dribbble.com/",className:O+" "+V,children:"Dribbble"})]})},D=function(e){return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:i.topWideColumn,children:[(0,l.jsxs)("h1",{className:i.name,children:[(0,l.jsx)("span",{className:i.label,children:" Full name:"})," ",e.fullName]}),(0,l.jsx)(c,{status:e.status,isOwner:e.isOwner,updateStatus:e.updateStatus}),(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:i.label,children:" About me:"})," ",e.aboutMe]}),e.lookingForAJob&&(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:i.label,children:"My skills:"})," ",e.lookingForAJobDescription]}),(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:i.label,children:"Looking for a job:"})," ",e.lookingForAJob?"yes":"no"]})]}),(0,l.jsxs)("div",{className:i.midWideColumn,children:[(0,l.jsxs)("div",{className:i.midWideColumnTop,children:[(0,l.jsx)("h2",{children:"Contact information:"}),e.isOwner&&(0,l.jsx)("div",{className:i.btnEditMode,children:(0,l.jsx)("span",{className:"material-icons",onClick:e.goToEditMode,children:" edit"})})]}),(0,l.jsxs)("div",{className:i.midWideColumnBot,children:[(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:i.label,children:"Facebook:"})," ",e.profileContacts.facebook]}),(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:i.label,children:"Vk:"})," ",e.profileContacts.vk]}),(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:i.label,children:"Instagram:"})," ",e.profileContacts.instagram]}),(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:i.label,children:"Github:"})," ",e.profileContacts.github]}),(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:i.label,children:"Youtube:"})," ",e.profileContacts.youtube]}),(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:i.label,children:"Main Link:"})," ",e.profileContacts.mainLink]}),(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:i.label,children:"Website:"})," ",e.profileContacts.website]})]})]})]})},G=function(e){var o=(0,n.useState)(!1),r=(0,a.Z)(o,2),s=r[0],c=r[1];return(0,l.jsxs)("div",{className:i.descriptionBlock,children:[(0,l.jsxs)("div",{className:i.narrowColumn,children:[(0,l.jsxs)("div",{className:i.topNarrowColumn,children:[(0,l.jsx)("img",{src:e.profile.photos.large||t,className:i.avatar,alt:"Profile avatar"}),e.isOwner&&(0,l.jsxs)("div",{className:i.ownerAvatarEditor,children:[(0,l.jsx)("input",{type:"file",onChange:function(o){o.target.files.length&&e.savePhoto(o.target.files[0])},id:"fileImage",accept:"image/*"}),(0,l.jsxs)("label",{htmlFor:"fileImage",children:[(0,l.jsx)("span",{className:"material-icons",children:"add_photo_alternate"}),"Choose a Photo"]})]})]}),(0,l.jsx)("div",{className:i.midNarrowColumn,children:(0,l.jsx)(F,{friends:e.friends})}),(0,l.jsx)("div",{className:i.botNarrowColumn,children:(0,l.jsx)(T,{})})]}),(0,l.jsxs)("div",{className:i.wideColumn,children:[s?(0,l.jsx)(f,{profileContacts:e.profile.contacts,onSubmitProfileHandler:function(o){var r={aboutMe:o.aboutMe,contacts:{facebook:o.Facebook,github:o.Github,instagram:o.Instagram,mainLink:o.MainLink,twitter:null,vk:o.Vk,website:o.Website,youtube:o.Youtube},lookingForAJob:o.lookingForAJob,lookingForAJobDescription:o.lookingForAJobDescription,fullName:o.fullName};e.saveProfile(r).then((function(){c(!1),e.setEmptyErrorFromServer()}))},fullName:e.profile.fullName,aboutMe:e.profile.aboutMe,lookingForAJob:e.profile.lookingForAJob,lookingForAJobDescription:e.profile.lookingForAJobDescription,errorFromServer:e.errorFromServer,status:e.status,isOwner:e.isOwner}):(0,l.jsx)(D,{profileContacts:e.profile.contacts,isOwner:e.isOwner,fullName:e.profile.fullName,aboutMe:e.profile.aboutMe,lookingForAJob:e.profile.lookingForAJob,lookingForAJobDescription:e.profile.lookingForAJobDescription,goToEditMode:function(){c(!0)},status:e.status,updateStatus:e.updateStatus}),(0,l.jsx)("div",{className:i.botWideColumn,children:e.isOwner&&(0,l.jsx)(E,{profile:e.profile})})]})]})},Y="Profile_appWrapperContent__URUFo",U=function(e){return e.profile?(0,l.jsx)("div",{className:Y,children:(0,l.jsx)(G,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile,errorFromServer:e.errorFromServer,setEmptyErrorFromServer:e.setEmptyErrorFromServer,friends:e.friends,followed:e.followed,followingInProgress:e.followingInProgress,isAuth:e.isAuth,id:e.id,unfollow:e.unfollow,follow:e.follow})}):(0,l.jsx)(s.Z,{})},H=r(6871),q=r(7781),z=n.memo((function(e){var o=(0,H.UO)().id;o||(o=e.authorizedUserId);var r=o===e.authorizedUserId;return(0,n.useEffect)((function(){e.getProfile(o),e.getStatus(o)}),[o]),(0,l.jsx)(U,{profile:e.profile,isAuth:e.isAuth,updateStatus:e.updateStatus,status:e.status,isOwner:r,savePhoto:e.savePhoto,saveProfile:e.saveProfile,errorFromServer:e.errorFromServer,setEmptyErrorFromServer:e.setEmptyErrorFromServer,posts:e.posts,newPostText:e.newPostText,friends:e.friends})})),$=(0,q.qC)((0,P.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth,errorFromServer:e.profilePage.errorFromServer,friends:e.navbar.friends}}),{getProfile:C.Ai,getStatus:C.lR,updateStatus:C.Nf,savePhoto:C.Ju,saveProfile:C.Ii,setEmptyErrorFromServer:C.vp}))(z)}}]);
//# sourceMappingURL=754.36d888f9.chunk.js.map