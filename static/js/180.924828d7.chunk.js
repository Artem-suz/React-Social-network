"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[180],{1180:function(e,s,n){n.r(s),n.d(s,{default:function(){return k}});var o=n(364),r=n(2938),t=n(2791),a="Users_pageUsers__iY1fn",i="Users_pageUsersWrapper__50zCm",l={photo:"User_photo__N2Hh+",userCard:"User_userCard__KlKKS",userCardWrapper:"User_userCardWrapper__ra550",info:"User_info__sHBtD",button:"User_button__LThvs",followBtn:"User_followBtn__M2Kn5",unfollowBtn:"User_unfollowBtn__DwS+A",status:"User_status__Ouv4-",infoHeader:"User_infoHeader__UpEL5",infoFooter:"User_infoFooter__xAI2E"},u=n(83),c=n(3504),f=n(184),d=function(e){return(0,f.jsx)("div",{className:l.userCard,children:(0,f.jsxs)("div",{className:l.userCardWrapper,children:[(0,f.jsxs)("div",{className:l.photoWrapper,children:[(0,f.jsx)("div",{className:l.photo,children:(0,f.jsx)(c.OL,{to:"/profile/"+e.id,children:(0,f.jsx)("img",{src:null!=e.photo.small?e.photo.small:u,alt:e.name})})}),e.followed?(0,f.jsx)("button",{className:l.button+" "+l.unfollowBtn,onClick:function(){e.unfollow(e.id)},disabled:e.followingInProgress.some((function(s){return s===e.id}))||!e.isAuth,children:"Unfollow"}):(0,f.jsx)("button",{className:l.button+" "+l.followBtn,onClick:function(){e.follow(e.id)},disabled:e.followingInProgress.some((function(s){return s===e.id}))||!e.isAuth,children:"Follow"})]}),(0,f.jsxs)("div",{className:l.info,children:[(0,f.jsxs)("div",{className:l.infoHeader,children:[(0,f.jsx)("div",{className:l.name,children:e.name}),(0,f.jsxs)("div",{className:l.location,children:[" City: ",e.location||""]})]}),(0,f.jsx)("div",{className:l.infoFooter,children:(0,f.jsx)("div",{className:l.status,children:e.status})})]})]})})},g=n(885),h="Paginator_selectedPage__AKUag",_="Paginator_pagination__r+c7i",p="Paginator_btnNext__EpUG0",m="Paginator_btnPrev__fxtoK",P=function(e){for(var s=e.totalItemsCount,n=e.pageSize,o=e.currentPage,r=e.onPageChanged,a=e.portionSize,i=void 0===a?5:a,l=Math.ceil(s/n),u=[],c=1;c<=l;c++)u.push(c);var d=Math.ceil(l/i),P=(0,t.useState)(1),w=(0,g.Z)(P,2),C=w[0],x=w[1],U=(C-1)*i+1,j=C*i;return(0,f.jsxs)("div",{className:_,children:[C>1&&(0,f.jsx)("button",{onClick:function(){return x(C-1)},className:m,children:"Prev"}),u.filter((function(e){return e>=U&&e<=j})).map((function(e){return(0,f.jsxs)("span",{onClick:function(){r(e)},className:o===e?h:"",children:[" ",e," "]},e)})),d>C&&(0,f.jsx)("button",{onClick:function(){return x(C+1)},className:p,children:"Next"})]})},w=function(e){return(0,f.jsxs)("div",{className:i,children:[e.users.map((function(s){return(0,f.jsx)(d,{id:s.id,followed:s.followed,name:s.name,status:s.status,location:s.location,photo:s.photos,followingInProgress:e.followingInProgress,follow:e.follow,unfollow:e.unfollow,isAuth:e.isAuth},s.id)})),(0,f.jsx)(P,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged})]})},C=n(8591),x=n(7781),U=function(e){return e.usersPage.users},j=function(e){return e.usersPage.pageSize},v=function(e){return e.usersPage.totalUsersCount},N=function(e){return e.usersPage.currentPage},b=function(e){return e.usersPage.isFetching},z=function(e){return e.usersPage.followingInProgress},S=t.memo((function(e){(0,t.useEffect)((function(){e.requestUsers(e.currentPage,e.pageSize)}),[]);return(0,f.jsxs)("div",{className:a,children:[e.isFetching?(0,f.jsx)(C.Z,{}):null,(0,f.jsx)(w,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,onPageChanged:function(s){e.setCurrentPage(s),e.requestUsers(s,e.pageSize)},currentPage:e.currentPage,users:e.users,isFetching:e.isFetching,followingInProgress:e.followingInProgress,follow:e.follow,unfollow:e.unfollow,isAuth:e.isAuth})]})})),k=(0,x.qC)((0,o.$j)((function(e){return{users:U(e),pageSize:j(e),totalUsersCount:v(e),currentPage:N(e),isFetching:b(e),followingInProgress:z(e),isAuth:e.auth.isAuth}}),{setCurrentPage:r.D4,requestUsers:r.D7,follow:r.ZN,unfollow:r.fv}))(S)}}]);
//# sourceMappingURL=180.924828d7.chunk.js.map